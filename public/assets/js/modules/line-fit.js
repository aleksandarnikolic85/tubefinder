/*! ledvance-2019 1.3.1-95 17-11-2020 17:11:20 */
"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}define(["responsiveHelper"],function(a){"use strict";var b=function a(b){_classCallCheck(this,a),this.el=b,this.originalText=b.innerHTML,this.data=b.dataset.settings,this.arrStages=[],this.options=null,this.resizeTimer=null};return b.prototype={constructor:b,fit:function(a){var b="",c=/\s+[\w\'".?!-]+$/;for(this.el.innerHTML=this.originalText;parseInt(window.getComputedStyle(this.el).height.replace(/px/,""))>this.options[a];){var d=this.el.innerHTML.trim(),e=c.exec(d);b=null===e?d.substring(0,d.length-1):d.substring(0,e.index),this.el.innerHTML=b,this.el.classList.add("-is-truncated")}this.el.classList.remove("_transparent")},init:function(){var b=this,c=this;this.parseData(this.data).then(function(d){for(var e in b.options=d,d)c.arrStages.push(e);a.getStage().then(function(a){-1===c.arrStages.indexOf(a)?(c.reset(),c.el.innerHTML=c.originalText):c.fit(a)})});var d=window.innerWidth;window.addEventListener("resize",function(){window.innerWidth!=d&&c.resizeHandler()})},parseData:function(a){return new Promise(function(b){b(JSON.parse(a))})},resizeHandler:function(){var a=this;this.el.classList.add("_transparent"),clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(function(){a.init()},50)},reset:function(){this.el.classList.remove("_transparent"),this.el.classList.remove("-is-truncated")}},{init:function(a){var c=new b(a);c.init()}}});