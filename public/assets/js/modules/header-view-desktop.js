/*! ledvance-2019 1.3.1-95 17-11-2020 17:11:20 */
"use strict";function _typeof(a){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}define(["eventHelper","handlebars","handlebarsHelper","headerTemplates","sequencer"],function(a,b,c,d){"use strict";var e={flyout:".o-flyout",flyoutCloser:".m-flyout-header .jf-close._hide-within-lg",flyoutHeader:".m-flyout-header .l-container",topic:".a-item",topics:".m-topics.-desktop",panel:".m-panel.-desktop",items:".m-panel.-desktop .m-item li",searchButton:".m-header-container.-large .o-search > button"},f={active:"-is-active",inactive:"-is-not-active"},g=function a(d){_classCallCheck(this,a),d.currentView="desktop",c.register(b),this.state="is-closed"};return g.prototype={constructor:g,addEvents:function(){var a=this;this.scope.topic.forEach(function(b){b.invokeMethod="handleClickOnLevel_0",b.removeEventListener("click",a),b.addEventListener("click",a)}),this.scope.flyoutCloser.invokeMethod="handleClickOnClose",this.scope.flyoutCloser.removeEventListener("click",this),this.scope.flyoutCloser.addEventListener("click",this),this.scope.searchButton.invokeMethod="handleClickOnSearch",this.scope.searchButton.removeEventListener("click",this),this.scope.searchButton.addEventListener("click",this)},applyFlyoutBackground:function(a){return null===a?void this.scope.flyout.classList.remove("-with-teaser"):void this.scope.flyout.classList.add("-with-teaser")},delightLevel_0:function(){this.scope.topic.forEach(function(a){a.classList.remove(f.active)})},emptyNode:function(a){for(;a.hasChildNodes();)a.removeChild(a.firstChild)},handleEvent:function(a){a.preventDefault(),this[a.currentTarget.invokeMethod].call(this)},handleClickOnClose:function(){this.events.dispatcher.addEvent("click:close:desktop")},handleClickOnLevel_0:function(){var a=event.target.dataset.rel||event.target.parentNode.dataset.rel;this.state=="is-open:"+a?(this.events.dispatcher.addEvent("click:close:desktop"),this.delightLevel_0()):(this.events.dispatcher.addEvent("click:level_0:desktop",a),this.highlightLevel_0(event))},highlightLevel_0:function(a){"li"==a.target.tagName.toLowerCase()?a.target.classList.add(f.active):a.target.parentNode.classList.add(f.active)},handleClickOnSearch:function(){this.search.showSearchBar()},init:function(b){this.events=new a,this.initScope(b)},initScope:function(a){this.scope={flyout:a.querySelector(e.flyout),flyoutCloser:a.querySelector(e.flyoutCloser),flyoutHeader:a.querySelector(e.flyoutHeader),topic:a.querySelectorAll(e.topic),topics:a.querySelector(e.topics),panel:a.querySelector(e.panel),items:a.querySelectorAll(e.items),searchButton:a.querySelector(e.searchButton)}},renderFlyoutHeader:function(a){var c=b.compile(d.flyoutHeaderDesktop),e=c(a);this.resetDom("flyoutHeader"),this.scope.flyoutHeader.insertAdjacentHTML("afterbegin",e)},renderLevel:function(a){var c=this;return new Promise(function(e){var f=b.compile(d.navDesktop),g=f(a.context);c.resetDom(["topics","panel","flyoutHeader"]),c.scope.topics.insertAdjacentHTML("afterbegin",g),e()})},renderLevel_1:function(a){var c,e=this;return a.wrapAtKey=null===a.teaser?4:4-a.teaser.length,void 0!==a.wrapAtKey&&(4==a.wrapAtKey&&(c=Math.ceil(a.level_1.length/5),a.phantomItems=5*c-a.level_1.length),3==a.wrapAtKey&&(c=Math.ceil(a.level_1.length/4),a.phantomItems=4*c-a.level_1.length)),new Promise(function(c){var f=b.compile(d.subtopicsDesktop),g=f(a);e.resetDom("panel"),e.scope.panel.insertAdjacentHTML("afterbegin",g),c()})},reset:function(){this.resetDom(["topics","panel","flyoutHeader"]),this.scope.flyout.classList.remove("-is-animating-in")},resetDom:function(a){if("object"===_typeof(a))for(var b in a)this.emptyNode(this.scope[a[b]]);else this.emptyNode(this.scope[a])}},g});