/*! ledvance-2019 1.3.1-95 17-11-2020 17:11:20 */
"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}define(["xmlHttpRequestForm"],function(a){"use strict";var b=function b(c){_classCallCheck(this,b),this.el=c,this.checkboxes=c.querySelectorAll("input[type=\"checkbox\"]"),this.input=c.querySelector("input[type=\"email\"]"),this.button=c.querySelector(".a-button"),this.message=c.querySelectorAll(".a-message.-invalid-email"),this.form=c.querySelector("form"),this.xmlHttpFormRequest=new a(c.querySelector("form")),this.addEvents()};return b.prototype={constructor:b,addEvents:function(){var a=this;this.checkboxes.forEach(function(b){b.addEventListener("click",function(){a.validate(!0)})}),this.input.addEventListener("keyup",function(){a.validate(!0)}),this.input.addEventListener("change",function(b){return b.target.validity.valid?void(a.message.forEach(function(a){return a.classList.add("_hide")}),a.input.classList.remove("-is-error")):(a.message.forEach(function(a){return a.classList.remove("_hide")}),void a.input.classList.add("-is-error"))}),this.button.addEventListener("click",function(){a.toggleButtonState("loading")}),this.form.addEventListener("submit",function(a){return a.preventDefault()}),this.xmlHttpFormRequest.events.on("success",function(){console.log(this),a.notify("-success")}),this.xmlHttpFormRequest.events.on("error",function(){a.notify("-error")})},notify:function(a){this.el.querySelector(".a-message."+a).classList.remove("_hide")},toggleButtonState:function(a){"enable"===a?this.button.removeAttribute("disabled"):"disable"===a?this.button.setAttribute("disabled","disabled"):"loading"===a?this.button.classList.add("-is-loading"):void 0},validate:function(a){return this.checkboxes.forEach(function(b){b.checked||(a=!1)}),this.input.validity.valid||(a=!1),!0===a?void this.toggleButtonState("enable"):void this.toggleButtonState("disable")}},{init:function(a){new b(a)}}});