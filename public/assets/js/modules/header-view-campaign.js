/*! ledvance-2019 1.3.1-95 17-11-2020 17:11:20 */
"use strict";define(["sequencer","eventHelper","responsiveHelper","headerSequencer"],function(a,b,c,d){"use strict";var e={backdrop:".m-flyout-backdrop",buttonShare:".-campaign .a-button-share ",buttonLangSelectDefault:".-campaign .a-button-langselect",flyoutCloser:".-campaign .m-flyout-header .jf-close",flyoutShareSelect:".o-flyout.-share-select",flyoutLangSelect:".o-flyout.-lang-select"};return{addEvents:function(){var a=this;this.scope.buttonShare.customEventType="flyoutShareOpen",this.scope.buttonShare.addEventListener("click",this),this.scope.buttonLangSelectDefault.customEventType="flyoutLangOpen",this.scope.buttonLangSelectDefault.addEventListener("click",this),this.scope.flyoutCloser.forEach(function(b){b.customEventType="flyoutClose",b.addEventListener("click",a)})},backdrop:function(){var a=this,b=function(){a.flyoutClose()};this.scope.backdrop.classList.toggle("in"),this.scope.backdrop.removeEventListener("click",b),this.scope.backdrop.addEventListener("click",b)},flyoutShareOpen:function(){this.active="flyoutShareSelect",this.sequencer.animateIn["default"].call(this.sequencer,this.active),this.backdrop(),this.setScrollBehaviour()},flyoutLangOpen:function(){this.active="flyoutLangSelect",this.sequencer.animateIn["default"].call(this.sequencer,this.active),this.backdrop(),this.setScrollBehaviour()},flyoutClose:function(){var a=this;this.sequencer.sequences[this.active].addEventListener({animationName:"headerFlyoutSlideOut",onAnimationEnd:function(){a.scope[a.active].classList.remove("-is-animating-in"),a.scope[a.active].classList.remove("-is-animating-out"),a.scope[a.active].classList.remove("-is-active")}}),this.sequencer.animateOut["default"].call(this.sequencer,this.active),this.backdrop(),this.resetScrollBehaviour()},handleEvent:function(a){a.preventDefault(),this[a.currentTarget.customEventType].call(this,a)},init:function(a){var e=this,f=this;this.events=new b,this.initScope(a),this.addEvents(),this.active=null,c.registerHandler(),c.events.on("mq_change",function(){f.sequencer=new d(f.scope,this)}),c.getStage().then(function(a){e.sequencer=new d(e.scope,a)})},initScope:function(a){var b=this;return new Promise(function(c){b.scope={node:a,backdrop:a.querySelector(e.backdrop),flyoutLangSelect:a.querySelector(e.flyoutLangSelect),flyoutShareSelect:a.querySelector(e.flyoutShareSelect),buttonShare:a.querySelector(e.buttonShare),buttonLangSelectDefault:a.querySelector(e.buttonLangSelectDefault),flyoutCloser:a.querySelectorAll(e.flyoutCloser)},c()})},resetScrollBehaviour:function(){document.documentElement.classList.remove("flyout-campaign"),document.documentElement.classList.remove("-is-active")},setScrollBehaviour:function(){document.documentElement.classList.add("flyout-campaign"),document.documentElement.classList.add("-is-active")}}});