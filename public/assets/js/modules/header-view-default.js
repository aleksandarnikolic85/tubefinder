/*! ledvance-2019 1.3.1-95 17-11-2020 17:11:20 */
"use strict";function _typeof(a){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}define(["eventHelper","handlebars","handlebarsHelper","headerTemplates","headerSearch","sequencer"],function(a,b,c,d){"use strict";var e={backdrop:".m-flyout-backdrop",burger:".m-burger",flyout:".o-flyout",flyoutCloser:".m-flyout-header .jf-close._hide-from-xl",rankLink:".m-flyout-header .l-container",pageOverviewLink:".m-pageOverviewLink",back:".m-flyout-header .l-container .a-rank-link",level_0:".m-panel.-level-0",level_1:".m-panel.-level-1",level_2:".m-panel.-level-2",navItem:".m-panel.-default .m-nav ul li a.-has-sublevel",searchButton:".m-header-container.-default .o-search > button"},f=function a(d){_classCallCheck(this,a),d.currentView="default",c.register(b)};return f.prototype={constructor:f,addEvents:function(){var a=this;this.scope.burger.invokeMethod="handleClickOnBurger",this.scope.burger.removeEventListener("click",this),this.scope.burger.addEventListener("click",this),this.scope.searchButton.invokeMethod="handleClickOnSearch",this.scope.searchButton.removeEventListener("click",this),this.scope.searchButton.addEventListener("click",this),this.scope.navItem.forEach(function(b){b.invokeMethod="handleClickOnNavItem",b.removeEventListener("click",a),b.addEventListener("click",a)}),this.scope.flyoutCloser.invokeMethod="handleClickOnClose",this.scope.flyoutCloser.removeEventListener("click",this),this.scope.flyoutCloser.addEventListener("click",this),null!==this.scope.back&&(this.scope.back.invokeMethod="handleClickOnBack",this.scope.back.removeEventListener("click",this),this.scope.back.addEventListener("click",this))},backdropIn:function(){this.scope.backdrop.classList.add("in"),this.scope.backdrop.invokeMethod="handleClickOnClose",this.scope.backdrop.removeEventListener("click",this),this.scope.backdrop.addEventListener("click",this)},backdropOut:function(){this.scope.backdrop.classList.remove("in")},emptyNode:function(a){if(null!==a)for(;a.hasChildNodes();)a.removeChild(a.firstChild)},getEventTargetData:function(a){for(var b=a.target,c={};null==b.dataset.rel;)b=b.parentNode;for(var d in b.dataset)c[d]=b.dataset[d];return c},handleEvent:function(a){a.preventDefault(),this[a.currentTarget.invokeMethod].call(this)},handleClickOnBurger:function(){this.events.dispatcher.addEvent("click:burger")},handleClickOnClose:function(){this.events.dispatcher.addEvent("click:close:default")},handleClickOnNavItem:function(){this.events.dispatcher.addEvent("click:navitem:default",this.getEventTargetData(event))},handleClickOnLevel_0:function(){this.events.dispatcher.addEvent("click:level_0:default",this.getEventTargetData(event))},handleClickOnLevel_1:function(){this.events.dispatcher.addEvent("click:level_1:default",this.getEventTargetData(event))},handleClickOnBack:function(){this.events.dispatcher.addEvent("click:back")},handleClickOnSearch:function(){this.search.showSearchBar()},init:function(b){this.events=new a,this.initScope(b)},initScope:function(a){this.scope={backdrop:a.querySelector(e.backdrop),burger:a.querySelector(e.burger),flyout:a.querySelector(e.flyout),flyoutCloser:a.querySelector(e.flyoutCloser),rankLink:a.querySelector(e.rankLink),pageOverviewLink:a.querySelector(e.pageOverviewLink),back:a.querySelector(e.back),navItem:a.querySelectorAll(e.navItem),level_0:a.querySelector(e.level_0),level_1:a.querySelector(e.level_1),level_2:a.querySelector(e.level_2),searchButton:a.querySelector(e.searchButton)}},renderFlyoutHeader:function(a){var c=b.compile(d.flyoutHeaderDefault),e=c(a);this.resetDom(["rankLink","pageOverviewLink"]),this.scope.rankLink.insertAdjacentHTML("afterbegin",e)},renderLevel:function(a){var c=this,e={level_0:["level_0","level_1","level_2"],level_1:["level_1","level_2"],level_2:["level_2"]};return new Promise(function(f){var g=b.compile(d.navDefault);void 0!==a.context.isSelected&&(a.context.isSelected=a.context.isSelected[a.level]);var h=g(a.context);c.resetDom(e[a.level]),c.scope[a.level].insertAdjacentHTML("afterbegin",h),f()})},reset:function(){this.resetDom(["level_0","level_1","level_2"]),this.scope.flyout.classList.remove("-is-active"),this.scope.level_0.classList.remove("-is-fade-out"),this.scope.level_1.classList.remove("-is-active"),this.scope.level_1.classList.remove("-is-fade-out"),this.scope.level_2.classList.remove("-is-active"),this.scope.level_2.classList.remove("-is-fade-out")},resetDom:function(a){if("object"===_typeof(a))for(var b in a)this.emptyNode(this.scope[a[b]]);else this.emptyNode(this.scope[a])}},f});