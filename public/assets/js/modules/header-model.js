/*! ledvance-2019 1.3.1-95 17-11-2020 17:11:20 */
"use strict";function _typeof(a){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}define([],function(){"use strict";var a=function a(){_classCallCheck(this,a);var b=this;this.stack=null,this.language=null,this.teaser=null,this.pageOverviewLink=null,this.level_0=null,this.level_1=null,this.level_2=null,this.loadData().then(function(){b.prepareLevel_0(),b.prepareLevel_1(),b.prepareLevel_2(),b.prepareTeaser(),b.prepareHeaderLink()})};return a.prototype={constructor:a,getPageOverviewLink:function(a){return void 0===this.pageOverviewLink[a]?null:this.pageOverviewLink[a]},getRankLink:function(a){var b=this;return 0==a.currentLevel?{title:b.stack.header.title,currentLevel:a.currentLevel}:1==a.currentLevel?{title:function(a){var c=b.level_0.find(function(b){return b.rel==a});return c.title}(a.rel,"level_"+a.currentLevel),currentLevel:a.currentLevel}:{title:b.level_1[a.rel][a.id].title,currentLevel:a.currentLevel}},getNextLevel:function(a,b,c){return 1==a?this.getLevel_1(b):this.getLevel_2(b,c)},getLevel_0:function(){return void 0===this.level_0?null:this.level_0},getLevel_1:function(a){return void 0===this.level_1[a]?null:this.level_1[a]},getLevel_2:function(a,b){return void 0===this.level_2[a][b]?null:this.level_2[a][b]},getTeaser:function(a,b){return void 0===this.teaser[a]?null:this.teaser[a]["level_"+b]},loadData:function(){var a=this;return new Promise(function(b){a.stack=HEADER_NAVIGATION_DATA,a.languages=LANGUAGES,a.mergeLanguages().then(function(){b()})})},getSelected:function(){var a={};for(var b in this.stack.level_0){var c=this.stack.level_0[b];if(-1!==Object.keys(c).indexOf("level_1"))for(var d in c){var e=c[d];if("object"===_typeof(e)&&Object.keys(e).length)for(var f in e)if("object"==_typeof(e[f]))if(-1!==Object.keys(e[f]).indexOf("level_2")){var g=e[f].level_2;for(var h in g)-1!==Object.keys(g[h]).indexOf("activePage")&&(a.level_0=b,a.level_1=f,a.level_2=h)}else-1!==Object.keys(e[f]).indexOf("activePage")&&(a.level_0=b,a.level_1=f)}}return 0!==a.length&&a},mergeLanguages:function(){var a=this;return new Promise(function(b){var c=a.stack.level_0;for(var d in c)"rel-0"==c[d].rel&&(c[d].level_1=a.languages);b()})},mergeProductKnowledgeTeaser:function(a,b){if(void 0!==this.teaser[b]&&void 0!==this.teaser[b]["level_"+a]){var c=this.teaser[b]["level_"+a].findIndex(function(a){return"linklist"==a.variant}),d=this.teaser[b]["level_"+a].splice(c,1),e={rel:b,title:d[0].title,href:!1,active:!1,langcode:!1,items:!1,sublevel:!0,level_2:d[0].level_2};this.level_1[b].push(e)}},prepareHeaderLink:function(){if(null===this.pageOverviewLink){this.pageOverviewLink={};var a=this.stack.level_0;for(var b in a)void 0!==a[b].rel&&void 0!==a[b].pageOverviewLink&&(this.pageOverviewLink[a[b].rel]=a[b].pageOverviewLink)}},prepareTeaser:function(){if(null===this.teaser){this.teaser={};var a=this.stack.level_0,b="level_1",c=function(a){return a.find(function(a){return"teaser"==a.type})},d=function(b,c,d){var e={};return Object.keys(a[b][d][c]).forEach(function(f){e[f]=a[b][d][c][f]}),e};for(var e in a)if(void 0!==a[e][b]&&c(a[e][b]))for(var f in this.teaser[a[e].rel]={},this.teaser[a[e].rel][b]=[],a[e][b])"teaser"==a[e][b][f].type&&this.teaser[a[e].rel][b].push(d(e,f,b))}},prepareLevel_0:function(){if(null===this.level_0){this.level_0=[];var a=this.stack.level_0;for(var b in a)this.level_0.push({exclude:a[b].exclude,title:a[b].title,href:a[b].href,icon:void 0!==a[b]&&a[b].icon,rel:a[b].rel,class:void 0!==a[b].class&&a[b].class,sublevel:void 0!==a[b].level_1})}},prepareLevel_1:function(){if(null===this.level_1){this.level_1={};var a=function(a,c){this.level_1[b[a].rel].push({rel:b[a].rel,title:b[a].level_1[c].title,href:void 0!==b[a].level_1[c].href&&b[a].level_1[c].href,active:void 0!==b[a].level_1[c].active&&b[a].level_1[c].active,langcode:void 0!==b[a].level_1[c].langcode&&b[a].level_1[c].langcode,sublevel:void 0!==b[a].level_1[c].level_2,level_2:void 0!==b[a].level_1[c].level_2&&b[a].level_1[c].level_2,items:void 0!==b[a].level_1[c].items&&b[a].level_1[c].items,variant:void 0!==b[a].level_1[c].variant&&b[a].level_1[c].variant})},b=this.stack.level_0;for(var c in b)if(void 0!==b[c].rel&&void 0!==b[c].level_1)for(var d in this.level_1[b[c].rel]=[],b[c].level_1)"teaser"===b[c].level_1[d].type?"teaser"==b[c].level_1[d].type&&"linklist"==b[c].level_1[d].variant&&a.call(this,c,d):a.call(this,c,d)}},prepareLevel_2:function(){if(null===this.level_2){this.level_2={};var a=this.stack.level_0;for(var b in a)if(void 0!==a[b].rel&&void 0!==a[b].level_1)for(var c in this.level_2[a[b].rel]=[],a[b].level_1)for(var d in this.level_2[a[b].rel][c]=[],a[b].level_1[c].level_2)this.level_2[a[b].rel][c].push({title:void 0!==a[b].level_1[c].level_2[d].title&&a[b].level_1[c].level_2[d].title,href:void 0!==a[b].level_1[c].level_2[d].href&&a[b].level_1[c].level_2[d].href})}}},a});