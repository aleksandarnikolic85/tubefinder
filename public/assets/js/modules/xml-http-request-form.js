/*! ledvance-2019 1.3.1-95 17-11-2020 17:11:20 */
"use strict";function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}return c}function _arrayWithHoles(a){if(Array.isArray(a))return a}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function _extends(){return _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends.apply(this,arguments)}function _typeof(a){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}define(["eventHelper"],function(a){"use strict";var b=function b(c){_classCallCheck(this,b),this.events=new a,this.form=c,this.method=c.getAttribute("method"),this.action=c.getAttribute("action"),this.init()};return b.prototype={constructor:b,init:function(){this.addEventListener()},addEventListener:function(){var a=this;this.form.addEventListener("submit",function(b){b.preventDefault(),a.serializeData().then(function(b){a.submit(b)})})},dataString:function(){var a=this;return new Promise(function(b){for(var c="{",d=0;d<a.form.elements.length;d++)c=c+"\""+a.form.elements[d].name+"\":\""+a.form.elements[d].value+"\",";b(c.substr(0,c.length-1)+"}")})},serializeData:function(){var a,b=this.form,c=[];return new Promise(function(d){if("object"==_typeof(b)&&"FORM"==b.nodeName)for(var e=b.elements.length,f=0;f<e;f++)if(a=b.elements[f],a.name&&!a.disabled&&"file"!=a.type&&"reset"!=a.type&&"submit"!=a.type&&"button"!=a.type)if("select-multiple"==a.type)for(j=b.elements[f].options.length-1;0<=j;j--)a.options[j].selected&&(c[c.length]=encodeURIComponent(a.name)+"="+encodeURIComponent(a.options[j].value));else("checkbox"!=a.type&&"radio"!=a.type||a.checked)&&(c[c.length]=encodeURIComponent(a.name)+"="+encodeURIComponent(a.value));d(c.join("&").replace(/%20/g,"+"))})},jsonData:function(){var a=this.form;return new Promise(function(b){var c=new FormData(a).entries(),d=_extends.apply(void 0,_toConsumableArray(Array.from(c,function(a){var b=_slicedToArray(a,2),c=b[0],d=b[1];return _defineProperty({},c,d)})));b(d)})},submit:function(a){var b=this,c=new XMLHttpRequest;c.open(this.method,this.action+(a&&"get"==this.method.toLowerCase()?"?"+a:""),!0),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),"post"==this.method.toLowerCase()&&(c.setRequestHeader("Method","POST "+this.action+" HTTP/1.1"),c.setRequestHeader("Content-Length",a.length)),c.addEventListener("load",function(){b.events.dispatcher.addEvent("success",c.responseText)}),c.addEventListener("error",function(){b.events.dispatcher.addEvent("error",c.responseText)}),c.send(a)}},b});